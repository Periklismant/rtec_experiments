\frametitle{Findall - test 2}
\subsubsection{Test 2}
\small
Findall on holdsAt.\linebreak
User rules:
\begin{tiny}
\begin{lstlisting}[language=Prolog]
holdsFor(workingEfficientlyAtWork(X)=true,I):-
    holdsFor(working(X)=true,I1),
    holdsFor(sleeping_at_work(X)=true,I2),
    relative_complement_all(I1,[I2],Ii),
    findall((S,E),(
                    member(Ii,(S,E)),
                    holdsAt(location(X)=work,S)
                  ),
          I).
\end{lstlisting}
\end{tiny}
Typed rules:
\begin{tiny}
\begin{lstlisting}[language=Prolog]
holdsForSDFluent(workingEfficientlyAtWork(X)=true,I) :-
     holdsForProcessedSimpleFluent(X,working(X)=true,Iw),
     holdsForProcessedSDFluent(X,sleeping_at_work(X)=true,Isw),
     relative_complement_all(Iw,[Isw],Ii),
     findall((S,E),(
		    member(Ii,(S,E)),
		    holdsAtProcessedSimpleFluent(X,location(X)=work,S)
		   )
	     ,I).
\end{lstlisting}
\end{tiny}
Compiled rules:
\begin{tiny}
\begin{lstlisting}[language=Prolog]
holdsForSDFluent(workingEfficientlyAtWork(_131139)=true,_131124) :-
     holdsForProcessedSimpleFluent(_131139,working(_131139)=true,_131145),
     holdsForProcessedSDFluent(_131139,sleeping_at_work(_131139)=true,_131156),
     relative_complement_all(_131145,[_131156],_131168),
     findall((_131176,_131177),(
				member(_131168,(_131176,_131177)),
				holdsAtProcessedSimpleFluent(_131139,location(_131139)=work,_131176)
				)
	      ,_131124).
\end{lstlisting}
\end{tiny}
Status: Passed
